contract "iele-example-tests/auction/auction.sol:SimpleAuction" {

@"beneficiary" = 0

@"auctionEnd" = 1

@"highestBidder" = 2

@"highestBid" = 3

@"ended" = 4

define public @"beneficiary()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %beneficiary.val = sload @"beneficiary"
  ret %beneficiary.val

throw:
  revert -1
}

define public @"auctionEnd()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %auctionEnd.val = sload @"auctionEnd"
  ret %auctionEnd.val

throw:
  revert -1
}

define public @"highestBidder()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %highestBidder.val = sload @"highestBidder"
  ret %highestBidder.val

throw:
  revert -1
}

define public @"highestBid()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %highestBid.val = sload @"highestBid"
  ret %highestBid.val

throw:
  revert -1
}

define @init(%_beneficiary_0, %_biddingTime_1) {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %out.of.range = cmp lt %_beneficiary_0, 0
  br %out.of.range, throw
  %out.of.range = cmp gt %_beneficiary_0, 1461501637330902918203684832716283019655932542975
  br %out.of.range, throw
  %out.of.range1 = cmp lt %_biddingTime_1, 0
  br %out.of.range1, throw
  sstore %_beneficiary_0, @"beneficiary"
  %timestamp = call @iele.timestamp()
  %tmp = add %timestamp, %_biddingTime_1
  sstore %tmp, @"auctionEnd"
  ret void

throw:
  revert -1
}

define public @"bid()"() {
entry:
  %timestamp = call @iele.timestamp()
  %auctionEnd.val = sload @"auctionEnd"
  %tmp = cmp le %timestamp, %auctionEnd.val
  %tmp1 = iszero %tmp
  br %tmp1, throw
  %callvalue = call @iele.callvalue()
  %highestBid.val = sload @"highestBid"
  %tmp3 = cmp gt %callvalue, %highestBid.val
  %tmp4 = iszero %tmp3
  br %tmp4, throw
  %highestBidder.val = sload @"highestBidder"
  %tmp6 = cmp ne %highestBidder.val, 0
  %tmp7 = iszero %tmp6
  br %tmp7, if.end
  %highestBidder.val8 = sload @"highestBidder"
  %highestBid.val9 = sload @"highestBid"
  %gas = call @iele.gaslimit()
  %status = call @"deposit" at %highestBidder.val8 () send %highestBid.val9, gaslimit %gas
  br %status, throw.status

if.end:
  %caller = call @iele.caller()
  sstore %caller, @"highestBidder"
  %callvalue10 = call @iele.callvalue()
  sstore %callvalue10, @"highestBid"
  ret void

throw:
  revert -1

throw.status:
  revert %status
}

define public @"settleAuction()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %timestamp = call @iele.timestamp()
  %auctionEnd.val = sload @"auctionEnd"
  %tmp = cmp ge %timestamp, %auctionEnd.val
  %tmp1 = iszero %tmp
  br %tmp1, throw
  %ended.val = sload @"ended"
  %tmp2 = iszero %ended.val
  %tmp3 = iszero %tmp2
  br %tmp3, throw
  sstore 1, @"ended"
  %beneficiary.val = sload @"beneficiary"
  %highestBid.val = sload @"highestBid"
  %gas = call @iele.gaslimit()
  %status = call @"deposit" at %beneficiary.val () send %highestBid.val, gaslimit %gas
  br %status, throw.status
  %highestBidder.val = sload @"highestBidder"
  ret %highestBidder.val

throw:
  revert -1

throw.status:
  revert %status
}

}
