contract "iele-example-tests/auction/auction.sol:SimpleAuction" {

@"beneficiary" = 0

@"auctionEnd" = 1

@"highestBidder" = 2

@"highestBid" = 3

@"ended" = 4

define public @"beneficiary()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %beneficiary.val = sload @"beneficiary"
  ret %beneficiary.val

throw:
  revert -1
}

define public @"auctionEnd()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %auctionEnd.val = sload @"auctionEnd"
  ret %auctionEnd.val

throw:
  revert -1
}

define public @"highestBidder()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %highestBidder.val = sload @"highestBidder"
  ret %highestBidder.val

throw:
  revert -1
}

define public @"highestBid()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %highestBid.val = sload @"highestBid"
  ret %highestBid.val

throw:
  revert -1
}

define @init(%_beneficiary_0, %_biddingTime_1) {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %out.of.range = cmp lt %_beneficiary_0, 0
  br %out.of.range, throw
  %out.of.range = cmp gt %_beneficiary_0, 1461501637330902918203684832716283019655932542975
  br %out.of.range, throw
  %out.of.range1 = cmp lt %_biddingTime_1, 0
  br %out.of.range1, throw
  sstore %_beneficiary_0, @"beneficiary"
  %timestamp = call @iele.timestamp()
  %out.of.range2 = cmp lt %timestamp, 0
  br %out.of.range2, throw
  %tmp = add %timestamp, %_biddingTime_1
  sstore %tmp, @"auctionEnd"
  ret void

throw:
  revert -1
}

define public @"bid()"() {
entry:
  %timestamp = call @iele.timestamp()
  %auctionEnd.val = sload @"auctionEnd"
  %out.of.range = cmp lt %timestamp, 0
  br %out.of.range, throw
  %tmp = cmp le %timestamp, %auctionEnd.val
  %tmp1 = iszero %tmp
  br %tmp1, throw
  %callvalue = call @iele.callvalue()
  %highestBid.val = sload @"highestBid"
  %out.of.range3 = cmp lt %callvalue, 0
  br %out.of.range3, throw
  %tmp4 = cmp gt %callvalue, %highestBid.val
  %tmp5 = iszero %tmp4
  br %tmp5, throw
  %highestBidder.val = sload @"highestBidder"
  %tmp7 = cmp ne %highestBidder.val, 0
  %tmp8 = iszero %tmp7
  br %tmp8, if.end
  %highestBidder.val9 = sload @"highestBidder"
  %highestBid.val10 = sload @"highestBid"
  %gas = call @iele.gaslimit()
  %status = call @"deposit" at %highestBidder.val9 () send %highestBid.val10, gaslimit %gas
  br %status, throw.status

if.end:
  %caller = call @iele.caller()
  sstore %caller, @"highestBidder"
  %callvalue11 = call @iele.callvalue()
  %out.of.range13 = cmp lt %callvalue11, 0
  br %out.of.range13, throw
  sstore %callvalue11, @"highestBid"
  ret void

throw:
  revert -1

throw.status:
  revert %status
}

define public @"settleAuction()"() {
entry:
  %callvalue = call @iele.callvalue()
  br %callvalue, throw
  %timestamp = call @iele.timestamp()
  %auctionEnd.val = sload @"auctionEnd"
  %out.of.range = cmp lt %timestamp, 0
  br %out.of.range, throw
  %tmp = cmp ge %timestamp, %auctionEnd.val
  %tmp1 = iszero %tmp
  br %tmp1, throw
  %ended.val = sload @"ended"
  %tmp2 = iszero %ended.val
  %tmp3 = iszero %tmp2
  br %tmp3, throw
  sstore 1, @"ended"
  %beneficiary.val = sload @"beneficiary"
  %highestBid.val = sload @"highestBid"
  %gas = call @iele.gaslimit()
  %status = call @"deposit" at %beneficiary.val () send %highestBid.val, gaslimit %gas
  br %status, throw.status
  %highestBidder.val = sload @"highestBidder"
  ret %highestBidder.val

throw:
  revert -1

throw.status:
  revert %status
}

}
